---
tags:
  - interview
  - java
---
### Методы

Все классы в Java наследуются от класса Object.

Методы:
1. `Class<?> getClass()` - получает тип объекта
2. `int hashCode()` - задаёт числовое значение, которое будет соответствовать объекту, или его хэш-код. Дефолтная (нативная) реализация - адрес объекта в памяти
3. `boolean equals(Object obj)` - сравнивает два объекта на равенство
4. `Object clone()` - клонирует объект, базовая реализация клонирует неглубоко (not deep clone)
5. `String toString()` - получает строковое представления объекта
6. `void notify()`
7. `void notifyAll()`
8. `void wait(long timeout)`
9. `void wait(long timeout, int nanos)`
10. `void wait()`
11. `void finalize()` - "освобождает" используемые внешние не-Java ресурсы: закрыть файлы, потоки и т.д... Вызывается у объекта перед тем, как сборщик мусора его уничтожит. Лучше не использовать

Методы `hashCode` и `equals` используются для сравнения. Сначала сравниваем по `hashCode`, если равны, то сравниваем ещё и по `equals`.

Методы `notify`, `notifyAll`, `wait` используются для контроля доступа к объекту из разных потоков, управления синхронизацией потоков.
Когда используем монитор
```java
synchronized(monitor) {
    //<...>
}
```
...можно вызвать `wait`, чтобы освободить монитор и "поставить на паузу" выполнение кода в `synchronized`. `wait` с параметрами таймаута "снимется с паузы" через таймаут, либо до того, если был вызван `notify`/`notifyAll`.
`notify` "снимает с паузы" код в одном случайном вызове `synchronized`, `notifyAll` - во всех.

---

### Hash Code & Equals Contract

1. Если `a.equals(b)`, то `a.hashCode() == b.hashCode()` должно быть всегда, но не наоборот.
2. Желательно, чтобы в обоих методах участвовали одни и те же поля.

---

[[!Теория для собеседования]]
[[!Java]]